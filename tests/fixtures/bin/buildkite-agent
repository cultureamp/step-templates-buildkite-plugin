#!/bin/bash

# used to stub buildkite-agent
# the stub library interacts poorly with the read loop present in write_steps

if [[ "${1:-}" == "meta-data" ]]; then
    echo "select-one
select-two
"
    exit
fi

echo "stubargs($STEP_ENVIRONMENT):$@"
env | grep STEP_ | xargs -n 1 echo "stubenv($STEP_ENVIRONMENT):"
env | grep NAMED_ | xargs -n 1 echo "stubnamed($STEP_ENVIRONMENT):"
env | grep file_ | xargs -n 1 echo "stubfile($STEP_ENVIRONMENT):"
env | grep AUTO_ | xargs -n 1 echo "stubauto($STEP_ENVIRONMENT):"
